<!doctype html>
<html
  dir="ltr"
  lang="fr"
  data-theme=""
  
    class="html theme--light"
  
><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  <title>
    Benoit Petit
        |
        Les pratiques SRE et le climat
      

    

  </title>

  <meta name="generator" content="Hugo 0.151.2"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="author" content="Benoit Petit" />
  <meta
    name="description"
    content="Co-founder of Hubblo and active contributor to Boavizta, analyzing the effects of Tech on the environment and society. ICT infrastructures and Datacenters specialist, IT system engineer. Open-Source developer. Read more in About section."
  />
  
  
        <link rel="stylesheet" href="/css/anatole.css" />
      
  <link
    rel="stylesheet"
    href="/css/markupHighlight.min.73ccfdf28df555e11009c13c20ced067af3cb021504cba43644c705930428b00.css"
    integrity="sha256-c8z98o31VeEQCcE8IM7QZ688sCFQTLpDZExwWTBCiwA="
    crossorigin="anonymous"
    type="text/css"
  />
  
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/fontawesome.min.137b1cf3cea9a8adb7884343a9a5ddddf4280f59153f74dc782fb7f7bf0d0519.css"
    integrity="sha256-E3sc886pqK23iENDqaXd3fQoD1kVP3TceC&#43;3978NBRk="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/solid.min.e65dc5b48fb5f39b142360c57c3a215744c94e56c755c929cc3e88fe12aab4d3.css"
    integrity="sha256-5l3FtI&#43;185sUI2DFfDohV0TJTlbHVckpzD6I/hKqtNM="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/regular.min.6f4f16d58da1c82c0c3a3436e021a3d39b4742f741192c546e73e947eacfd92f.css"
    integrity="sha256-b08W1Y2hyCwMOjQ24CGj05tHQvdBGSxUbnPpR&#43;rP2S8="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/brands.min.e10425ad768bc98ff1fb272a0ac8420f9d1ba22f0612c08ff1010c95080ffe7e.css"
    integrity="sha256-4QQlrXaLyY/x&#43;ycqCshCD50boi8GEsCP8QEMlQgP/n4="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link rel="shortcut icon" href="/static/favicon.icofavicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" sizes="180x180" href="/static/favicon.icoapple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/static/favicon.icofavicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/static/favicon.icofavicon-16x16.png" />

  <link rel="canonical" href="http://localhost:1313/fr/2021/02/les-pratiques-sre-et-le-climat/" />
  
  
  
  
  <script
    type="text/javascript"
    src="/js/anatole-header.min.f9132794301a01ff16550ed66763482bd848f62243d278f5e550229a158bfd32.js"
    integrity="sha256-&#43;RMnlDAaAf8WVQ7WZ2NIK9hI9iJD0nj15VAimhWL/TI="
    crossorigin="anonymous"
  ></script>

  
    
    
    <script
      type="text/javascript"
      src="/js/anatole-theme-switcher.min.8724ddf9268dee451060f191961647573c7f592fbccc6d858746236b3f915813.js"
      integrity="sha256-hyTd&#43;SaN7kUQYPGRlhZHVzx/WS&#43;8zG2Fh0Yjaz&#43;RWBM="
      crossorigin="anonymous"
    ></script>
  

  

  

  


  
  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Les pratiques SRE et le climat">
  <meta name="twitter:description" content="L’ingénierie de la fiabilité des sites (Site Reliability Engineering), a pour objectif au sein d’une organisation de s’assurer que les systèmes et services logiciels qui y sont créés sont évolutifs et surtout très fiables.">



  
  <meta property="og:url" content="http://localhost:1313/fr/2021/02/les-pratiques-sre-et-le-climat/">
  <meta property="og:site_name" content="Blog de Benoit Petit">
  <meta property="og:title" content="Les pratiques SRE et le climat">
  <meta property="og:description" content="L’ingénierie de la fiabilité des sites (Site Reliability Engineering), a pour objectif au sein d’une organisation de s’assurer que les systèmes et services logiciels qui y sont créés sont évolutifs et surtout très fiables.">
  <meta property="og:locale" content="fr">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2021-02-19T19:25:24+02:00">
    <meta property="article:modified_time" content="2021-02-19T19:25:24+02:00">
    <meta property="article:tag" content="Sre">
    <meta property="article:tag" content="Automatisation">
    <meta property="article:tag" content="Energie">
    <meta property="article:tag" content="Scaphandre">
    <meta property="article:tag" content="Open-Source">
    <meta property="article:tag" content="Rust">



  
  
  
  
  <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "articleSection": "posts",
        "name": "Les pratiques SRE et le climat",
        "headline": "Les pratiques SRE et le climat",
        "alternativeHeadline": "",
        "description": "
      
        L\u0026rsquo;ingénierie de la fiabilité des sites (Site Reliability Engineering), a pour objectif au sein d\u0026rsquo;une organisation de s\u0026rsquo;assurer que les systèmes et services logiciels qui y sont créés sont évolutifs et surtout \u003cstrong\u003etrès fiables\u003c\/strong\u003e.


      


    ",
        "license": "",
        
        "inLanguage": "fr",
        "isFamilyFriendly": "true",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/localhost:1313\/fr\/2021\/02\/les-pratiques-sre-et-le-climat\/"
        },
        "author" : {
            "@type": "Person",
            "name": "Benoit Petit"
        },
        "creator" : {
            "@type": "Person",
            "name": "Benoit Petit"
        },
        "accountablePerson" : {
            "@type": "Person",
            "name": "Benoit Petit"
        },
        "copyrightHolder" : {
            "@type": "Person",
            "name": "Benoit Petit"
        },
        "dateCreated": "2021-02-19T19:25:24.00Z",
        "datePublished": "2021-02-19T19:25:24.00Z",
        "dateModified": "2021-02-19T19:25:24.00Z",
        "publisher":{
            "@type":"Organization",
            "name": "Benoit Petit",
            "url": "http://localhost:1313/",
            "logo": {
                "@type": "ImageObject",
                "url": "http:\/\/localhost:1313\/static\/favicon.icofavicon-32x32.png",
                "width":"32",
                "height":"32"
            }
        },
        "image": 
      [
      ]

    ,
        "url" : "http:\/\/localhost:1313\/fr\/2021\/02\/les-pratiques-sre-et-le-climat\/",
        "wordCount" : "1899",
        "genre" : [ ],
        "keywords" : [ 
      
      "sre"

    
      
        ,

      
      "automatisation"

    
      
        ,

      
      "energie"

    
      
        ,

      
      "scaphandre"

    
      
        ,

      
      "open-source"

    
      
        ,

      
      "rust"

    
      
        ,

      
      "devops"

    
      
        ,

      
      "résilience"

    
      
        ,

      
      "climat"

    
      
        ,

      
      "tech"

    ]
    }
  </script>




  
  
  
</head>
<body class="body">
    <div class="wrapper">
      <aside
        
          class="wrapper__sidebar"
        
      ><div
  class="sidebar
    animated fadeInDown
  "
>
  <div class="sidebar__content">
    <div class="sidebar__introduction">
      <img
        class="sidebar__introduction-profileimage"
        src="/profile.jpeg"
        alt="profile picture"
      />
      
        <div class="sidebar__introduction-title">
          <a href="/fr"></a>
        </div>
      
      <div class="sidebar__introduction-description">
        <p>Co-founder of Hubblo and active contributor to Boavizta, analyzing the effects of Tech on the environment and society. ICT infrastructures and Datacenters specialist, IT system engineer. Open-Source developer. Read more in About section.</p>
      </div>
    </div>
    <ul class="sidebar__list">
      
        <li class="sidebar__list-item">
          <a
            href="https://mastodon.green/@bpetit"
            target="_blank"
            rel="noopener me"
            aria-label="Mastodon"
            title="Mastodon"
          >
            <i class="fab fa-mastodon fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
        <li class="sidebar__list-item">
          <a
            href="https://linkedin.com/in/bepetit"
            target="_blank"
            rel="noopener me"
            aria-label="Linkedin"
            title="Linkedin"
          >
            <i class="fab fa-linkedin fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
        <li class="sidebar__list-item">
          <a
            href="https://github.com/bpetit"
            target="_blank"
            rel="noopener me"
            aria-label="Github"
            title="Github"
          >
            <i class="fab fa-github fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
        <li class="sidebar__list-item">
          <a
            href="https://gitlab.com/bpetit1"
            target="_blank"
            rel="noopener me"
            aria-label="Gitlab"
            title="Gitlab"
          >
            <i class="fab fa-gitlab fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
        <li class="sidebar__list-item">
          <a
            href="https://bsky.app/profile/did:plc:yrnndxpff3wqc7kedczen335"
            target="_blank"
            rel="noopener me"
            aria-label="Bluesky"
            title="Bluesky"
          >
            <i class="fab fa-bluesky fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
        <li class="sidebar__list-item">
          <a
            href="mailto:bpetit@nce.re"
            target="_blank"
            rel="noopener me"
            aria-label="e-mail"
            title="e-mail"
          >
            <i class="fas fa-envelope fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
    </ul>
  </div><footer class="footer footer__sidebar">
  <ul class="footer__list">
    <li class="footer__item">
      &copy;
      
        Benoit Petit
        2025
      
    </li>
    
  </ul>
</footer>
  
  <script
    type="text/javascript"
    src="/js/medium-zoom.min.9531b4a2217a70c5a1fce89c1f81c9ebbdd586708fcd4130b417320c7230c8d6.js"
    integrity="sha256-lTG0oiF6cMWh/OicH4HJ673VhnCPzUEwtBcyDHIwyNY="
    crossorigin="anonymous"
  ></script></div>
</aside>
      <main
        
          class="wrapper__main"
        
      >
        <header class="header"><div
  class="
    animated fadeInDown
  "
>
  <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
    <span aria-hidden="true" class="navbar-burger__line"></span>
    <span aria-hidden="true" class="navbar-burger__line"></span>
    <span aria-hidden="true" class="navbar-burger__line"></span>
  </a>
  <nav class="nav">
    <ul class="nav__list" id="navMenu">
      
      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/"
              
              title=""
              >Home</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/posts"
              
              title=""
              >Blog</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/page/about/"
              
              title=""
              >About</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/page/press/"
              
              title=""
              >Press</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/page/talks/"
              
              title=""
              >Talks</a
            >
          </li>
        

      
    </ul>
    <ul class="nav__list nav__list--end">
      
        <li class="nav__list-item">
          <div class="optionswitch">
            <input class="optionswitch__picker" type="checkbox" id="languagepicker" hidden />
            <label class="optionswitch__label" for="languagepicker"
              >Français <i class="fa fa-angle-down" aria-hidden="true"></i
            ></label>
            <div class="optionswitch__triangle"></div>
            <ul class="optionswitch__list">
              
                <li class="optionswitch__list-item">
                  <a href="/2021/03/sre-methods-and-climate-change/" title="English"
                    ><span
                      
                      aria-label="English"
                      >English</span
                    >
                  </a>
                </li>
              
            </ul>
          </div>
        </li>
      
      
        <li class="nav__list-item">
          <div class="themeswitch">
            <a title="Switch Theme">
              <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a>
          </div>
        </li>
      
    </ul>
  </nav>
</div>
</header>
  <div
    class="post 
      animated fadeInDown
    "
  >
    
      <div class="post__thumbnail-wrapper">
        <img class="post__thumbnail" src="/lizard.cleaned.jpg" alt="Thumbnail image" />
      </div>
    
    <div class="post__content">
      
        <h1>Les Pratiques SRE Et Le Climat</h1>
      
      <h3>Table des matières</h3>
<nav id="TableOfContents">
  <ul>
    <li><a href="#devops-sre-quelle-différence-">DevOps, SRE, quelle différence ?</a></li>
    <li><a href="#sli-slo-et-le-budget-derreur">SLI, SLO et le budget d&rsquo;erreur</a></li>
    <li><a href="#redéfinir-la-notion-de-fiabilité">Redéfinir la notion de fiabilité</a></li>
    <li><a href="#comment-obtenir-ces-métriques-">Comment obtenir ces métriques ?</a></li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>
<p>L&rsquo;ingénierie de la fiabilité des sites (Site Reliability Engineering), a pour objectif au sein d&rsquo;une organisation de s&rsquo;assurer que les systèmes et services logiciels qui y sont créés sont évolutifs et surtout <strong>très fiables</strong>.</p>
<p>Pour ce faire, de nombreux aspects de l&rsquo;ingénierie logicielle sont appliqués aux problèmes d&rsquo;infrastructure. Ce sont des pratiques mises en avant par Google, notamment depuis la sortie du premier livre &ldquo;référence&rdquo; intitulé &ldquo;<a href="https://sre.google/sre-book/table-of-contents/">Site Reliability Engineering</a>&rdquo; en 2016.</p>
<h2 id="devops-sre-quelle-différence-">DevOps, SRE, quelle différence ?</h2>
<p>Puisque nous avons mis un pied dans le dangereux royaume des buzzwords, tentons d&rsquo;y voir plus clair avant de continuer. Si vous êtes déjà familiers avec le DevOps et les pratiques SRE, vous pouvez passer directement <a href="/fr/2021/02/les-pratiques-sre-et-le-climat/#sli-slo-et-le-budget-derreur">à la suite de cet article</a>.</p>
<p>Le cadre de travail SRE a quelques points communs avec le mouvement DevOps, notamment :</p>
<ul>
<li><strong>Le changement est nécessaire pour s&rsquo;améliorer</strong>: adopter les méthodes DevOps ou les pratiques SRE, c&rsquo;est l&rsquo;inverse du cycle en V et des gels de déploiements sur une infrastructure. Dans les deux cas, identifier les axes d&rsquo;amélioration, faire des changements et apprendre de ses erreurs, est essentiel pour atteindre plus de vélocité (DevOps), de qualité et de fiabilité (SRE).</li>
<li><strong>Casser les silos</strong> : contrairement au monde décrit dans <a href="https://fr.wikipedia.org/wiki/The_IT_Crowd">IT crowd</a>, les pratiques DevOps comme SRE encouragent une collaboration régulière et systématique entre les développeurs, le produit et l&rsquo;infrastructure, à chaque étape d&rsquo;un projet. La littérature SRE parle même de &ldquo;shared ownership model&rdquo; ou modèle de responsabilité partagée. Dans ce contexte, les responsables produit sont tout autant <strong>responsables</strong> (et donc <strong>investis</strong>) que les développeurs ou que les SRE, lors de la mise en place d&rsquo;un changement dans un service ou une application.</li>
<li><strong>De petits changements, fréquents</strong> sont préférés à de grosses mises à jour issues de plusieurs mois de développements. Ceci permet une plus grande fiabilité, en particulier si chacun d&rsquo;entre eux est testé automatiquement, ce qui contribue à la <a href="https://devops.com/faster-feedback/"><strong>feedback loop</strong></a>.</li>
<li><strong>Un incident ou un échec n&rsquo;est jamais la faute d&rsquo;une seule personne</strong> : il convient donc de comprendre l&rsquo;explication systémique d&rsquo;un problème (le bouton dangereux dans l&rsquo;interface X n&rsquo;est pas assez rouge et on ne demande pas à l&rsquo;utilisateur Michel s&rsquo;il est sûr de lui), plutôt que de chercher un coupable (c&rsquo;est la faute de Michel).</li>
</ul>
<p>Les deux mouvements sont donc très proches, si bien que certains considèrent que SRE est une implémentation de la méthode DevOps qui prend en compte les problématiques d&rsquo;infrastructure. On pourra souligner que contrairement à DevOps, SRE peut être un métier en tant que tel (Site Reliability Engineer), là où DevOps est seulement un mouvement, ou un ensemble de bonnes pratiques.</p>
<h2 id="sli-slo-et-le-budget-derreur">SLI, SLO et le budget d&rsquo;erreur</h2>
<p>Je souhaite vous parler aujourd&rsquo;hui d&rsquo;un élément particulier parmi les pratiques SRE : les fameux SLI et SLO, pour <strong>Service Level Indicators</strong> et <strong>Service Level Objectives</strong>. Ces notions donnent un cadre pour déterminer quelles métriques sont importantes pour la réussite d&rsquo;un projet dans sa phase de run.</p>
<p>Un Service Level Indicator est le plus souvent un ratio entre deux nombres. L&rsquo;un étant le nombre d&rsquo;événements &ldquo;positifs&rdquo;, l&rsquo;autre le nombre total d&rsquo;événements correspondants. Quelques exemples de SLI:</p>
<ul>
<li>nombre de requêtes HTTP soldées par un succès / nombre total de requêtes HTTP sur le même service</li>
<li>nombre de demandes sur mon datastore, qui ont retourné un résultat en moins de 2 secondes / nombre total de demandes sur le datastore</li>
<li>nombre d&rsquo;appels gRPC qui ont terminé en moins de 80ms / nombre total d&rsquo;appels gRPC sur le même service</li>
</ul>
<p>Un point important pour bien choisir un SLI est qu&rsquo;il doit permettre de mesurer la satisfaction d&rsquo;un client ou d&rsquo;un utilisateur (humain ou machine). C&rsquo;est pour ça que l&rsquo;on va souvent s&rsquo;intéresser aux notions d&rsquo;erreurs perçues par le client ou de latence, plutôt que de savoir quelle quantité de mémoire est utilisée sur le serveur, par exemple.</p>
<p>La deuxième notion importante ici est le Service Level <strong>Objective</strong>. Il s&rsquo;agit ni plus ni moins que d&rsquo;un objectif à atteindre sur un SLI, sur une fenêtre de temps flottante ou basée sur le calendrier (chaque mois par exemple). Cet objectif doit être défini <strong>conjointement</strong> entre l&rsquo;équipe produit, l&rsquo;équipe en charge de l&rsquo;environnement de production et les développeurs. Le respect de cet objectif doit également être porté/assumé par une personne ayant suffisamment de &ldquo;pouvoir&rdquo; pour faire des compromis entre la vélocité (la vitesse à laquelle les fonctionnalités sont déployées) et la fiabilité. Ce peut donc être le CTO si c&rsquo;est une petite organisation ou le product owner/manager, dans une structure plus conséquente.</p>
<p>La différence entre 100% (de cas positifs pour le SLI) et le SLO (disons par exemple 97% de requêtes dont la réponse prend moins de 50 ms de latence) est appelée le <strong>budget d&rsquo;erreur</strong> (error budget). Si le nombre de cas &ldquo;négatifs&rdquo; (dommageables pour la réalisation du SLO) fait tomber le SLI en dessous du SLO sur la période, on a épuisé notre budget d&rsquo;erreur. Dans ce cas il faut, soit revoir la conception ou l&rsquo;implémentation technique du service pour respecter le SLO sur la prochaine période, ou bien redéfinir le SLO si l&rsquo;on se rend compte qu&rsquo;il était trop ambitieux (un SLO de 100% est rarement une bonne idée).</p>
<p>Vous vous en doutez, un monitoring adéquat et la mise en place d&rsquo;alertes lorsque le budget d&rsquo;erreur est entamé ou menacé sont nécessaires. Ces indicateurs deviennent un point d&rsquo;attention central des équipes de développement, de production, mais aussi de <strong>l&rsquo;équipe produit</strong>. On pourra par exemple mettre en place un dashboard faisant état des SLI et de l&rsquo;état de consommation des budgets d&rsquo;erreur sur le mois, qui sera accessible de toutes les équipes concernées.</p>
<p>L&rsquo;intérêt de cette méthode est qu&rsquo;elle encourage les équipes produit, infrastructure et de développement à collaborer autour d&rsquo;un <strong>même objectif</strong>, à savoir dans la plupart des cas, la satisfaction utilisateur.</p>
<p>Une fois ces principes appliqués à plusieurs services/produits numériques de l&rsquo;organisation, il est possible de générer un dashboard montrant si les SLO sont atteints, mois par mois (si c&rsquo;est la période choisie), pour chacun des services. Ce tableau servira de support de communication auprès de la direction pour demander :</p>
<ul>
<li>des recrutements : &ldquo;nous avons bien affiné nos objectifs, mais nous n&rsquo;avons pas pu en respecter certains car nous manquons de personnel&rdquo;</li>
<li>des compromis : &ldquo;maintenir le service X à un niveau de fiabilité satisfaisant nous demande beaucoup de travail et nous empêche de passer ce temps sur d&rsquo;autres services à forte valeur ajoutée (et de respecter leurs SLO), est ce qu&rsquo;il est toujours pertinent d&rsquo;un point de vue business ?&rdquo;</li>
</ul>
<p><img src="/slo-dashboard.png" alt="Dashboard fictif de SLOs"></p>
<h2 id="redéfinir-la-notion-de-fiabilité">Redéfinir la notion de fiabilité</h2>
<p>Il existe plusieurs définitions de la fiabilité (notamment dans le cadre juridique). L&rsquo;une d&rsquo;elle a été proposée par l&rsquo;<a href="https://fr.wikipedia.org/wiki/Union_technique_de_l%27%C3%A9lectricit%C3%A9">UTE</a>: &ldquo;la fiabilité est l’aptitude d’un dispositif à accomplir une fonction requise dans des conditions données pour une période de temps donnée&rdquo;. Dans ce cadre on se rend compte qu&rsquo;il est possible de définir les conditions pour estimer que le dispositif (ou système dans notre cas) a bien rempli sa mission dans la dite période.</p>
<p>Puisque l&rsquo;IT doit baisser ses émissions de gaz à effets de serre de <a href="https://www.itu.int/en/mediacentre/Pages/PR04-2020-ICT-industry-to-reduce-greenhouse-gas-emissions-by-45-percent-by-2030.aspx">45% dans les 10 prochaines années</a> si l&rsquo;on veut espérer atteindre les objectifs des accords de Paris, il me semble capital qu&rsquo;un système numérique ne soit considéré fiable, que si les conditions de validation de cette fiabilité incluent <strong>des objectifs</strong> concernant ses <strong>émissions de gaz à effet de serre</strong>.</p>
<p>Peut-on dire que l&rsquo;on satisfait durablement le client si l&rsquo;on contribue à rendre le monde dans lequel il vivra en 2050 encore plus incertain qu&rsquo;aujourd&rsquo;hui ?</p>
<p>La méthode SRE fait de plus en plus d&rsquo;adeptes et fournis un cadre de travail réellement intéressant, car elle encourage une collaboration entre les équipes techniques et le métier. Comme l&rsquo;a très justement rappelé <a href="https://www.linkedin.com/in/alexis8nicolas/">Alexis Nicolas</a> dans son <a href="https://sync.nce.re/index.php/s/igFsLRjZteaLst4">retour d&rsquo;expérience</a> à <a href="http://www.frugagile.org/">Frug&rsquo;agile</a>, lutter pour amortir le changement climatique est comme un <strong>escape game dont nous faisons tous partie</strong>, qu&rsquo;on le veuille ou non.</p>
<p>Si je suis dans un escape game dans lequel l&rsquo;échec signifie <strong>un réel danger pour mon entourage et moi-même</strong> (ce qui est <a href="https://meteofrance.com/actualites-et-dossiers/actualites/meteo-france-eclaire-le-climat-en-france-jusquen-2100">le cas dans celui-ci</a>), je préférerai avoir une aide dynamique pour résoudre les énigmes, des alertes automatisées si je perds trop de temps sur les mauvais éléments et une équipe qui collabore en toute transparence et qui soit pleinement concentrée sur le même objectif. Pas vous ?</p>
<h2 id="comment-obtenir-ces-métriques-">Comment obtenir ces métriques ?</h2>
<p>Comment avoir des métriques dynamiques, comparables, mises à jour régulièrement, concernant l&rsquo;impact climatique d&rsquo;un service numérique ? Comment mesurer le résultat de ses efforts sur le sujet ? Il y a des sujets majeurs concernant cet impact pour lesquels avoir des métriques dynamiques est très compliqué (les experts de l&rsquo;<a href="https://fr.wikipedia.org/wiki/Analyse_du_cycle_de_vie">ACV</a> en savent quelque chose): le coût environnemental et climatique de la fabrication des terminaux qui seront client du service, celui de la fabrication des serveurs et du réseau, celui de la fabrication et de l&rsquo;entretien des datacenters et des infrastructures, la quantité de fioul brulée dans l&rsquo;année pour assurer la continuité de service dans le datacenter (ou simplement pour éviter que le fioul ne soit bon pour la poubelle) etc.</p>
<p>Il en est d&rsquo;autres pour lesquels c&rsquo;est possible dès à présent. La consommation d&rsquo;énergie finale (ou <a href="https://bpetit.nce.re/fr/2021/01/scaphandre-v0.1.1-mesurer-la-consommation-d%C3%A9nergie-des-coulisses-du-num%C3%A9rique/#petites-pr%C3%A9cisions-de-rigueur">secondaire</a>) des serveurs et des applications qu&rsquo;ils hébergent en est une. Il est donc possible, en plus de <strong>surveiller et réduire</strong> la part de <strong>l&rsquo;impact climatique de son service</strong>, liée à la consommation d&rsquo;énergie finale, d&rsquo;alimenter en partie le &ldquo;scope 2&rdquo; d&rsquo;une ACV automatiquement.</p>
<p><a href="https://github.com/hubblo-org/scaphandre/">Scaphandre</a> est une des solutions pour y parvenir. C&rsquo;est un agent de monitoring <strong>open-source</strong>, <strong>léger</strong>, dédié aux métriques de consommation d&rsquo;énergie finale (électricité), qui <a href="https://metrics.hubblo.org">s&rsquo;insère simplement dans une suite de monitoring existante</a>. Il est modulaire et est pensé pour accueillir simplement de nouveaux <em><a href="https://hubblo-org.github.io/scaphandre/explanations/internal-structure.html">exporters</a></em>. L&rsquo;idée est que c&rsquo;est l&rsquo;agent qui s&rsquo;adapte à votre infrastructure et à vos besoins et non l&rsquo;inverse. Il permet déjà de stocker les données dans <a href="https://prometheus.io">Prometheus</a>, <a href="http://riemann.io/">Riemann</a> et bientôt dans <a href="https://www.warp10.io/">Warp10</a>. Ceci vous permet d&rsquo;avoir toute la souplesse nécessaire par la suite pour définir vos SLI et SLO en rapport avec l&rsquo;impact climatique de votre service.</p>
<p>On pourra alors aller plus loin et agrémenter ces métriques de consommation en estimant les émissions de GES associées, par exemple en s&rsquo;appuyant sur une API comme <a href="https://docs.co2signal.com/#introduction">co2signal</a>, un autre produit de <a href="https://www.tmrow.com/">Tomorrow</a>, également à l&rsquo;origine d&rsquo;<a href="https://www.electricitymap.org/map">ElectricityMap</a>.</p>
<h2 id="conclusion">Conclusion</h2>
<p>De cette manière on peut calculer la consommation et les émissions estimées, <strong>par requête</strong> ou <strong>par utilisateur</strong> (en associant les métriques de monitoring/APM usuelles et les métriques de consommation/émission), puis mettre en place des SLO tels que :</p>
<ul>
<li>95% des requêtes sur l&rsquo;API entrainent moins de 0.4g eCO2, sur un mois</li>
<li>98% des utilisateurs entrainent une consommation cumulée inférieure à 200 Wh sur le mois</li>
</ul>
<p>Les chiffres sont ici complètement arbitraires et ne veulent pas dire grand chose hors contexte. Mais traquer des indicateurs de ce type, définis conjointement suite à une analyse de l&rsquo;impact global, me semble être une stratégie efficace pour <strong>réduire l&rsquo;empreinte</strong> des services numériques dans la durée. Cette approche est évidemment complémentaire des ACV et d&rsquo;un bilan carbone complet prenant en compte les aspects matériels que l&rsquo;on ne peut bien souvent pas mesurer automatiquement.</p>
<p>Je pense cependant que le rôle de la conception et de l&rsquo;implémentation des services n&rsquo;est pas à sous-estimer concernant la réduction de l&rsquo;empreinte de l&rsquo;IT. La complexité de ces services est grandissante et l&rsquo;estimation de leur impact toujours plus inaccessible. Une approche <strong>bottom-up</strong> comme celle présentée ici est selon moi nécessaire et indispensable (bien que non suffisante) pour permettre une amélioration continue à grande échelle.</p>


  <h3>Messages similaires</h3>
  <ul>
    
      <li><a href="/fr/2021/01/scaphandre-v0.1.1-mesurer-la-consommation-d%C3%A9nergie-des-coulisses-du-num%C3%A9rique/">Scaphandre v0.1.1: mesurer la consommation d&#39;énergie (des coulisses) du numérique</a></li>
    
  </ul>

</div>
    <div class="post__footer">
      

      
        <span><a class="tag" href="/fr/tags/sre/">sre</a><a class="tag" href="/fr/tags/automatisation/">automatisation</a><a class="tag" href="/fr/tags/energie/">energie</a><a class="tag" href="/fr/tags/scaphandre/">scaphandre</a><a class="tag" href="/fr/tags/open-source/">open-source</a><a class="tag" href="/fr/tags/rust/">rust</a><a class="tag" href="/fr/tags/devops/">devops</a><a class="tag" href="/fr/tags/r%C3%A9silience/">résilience</a><a class="tag" href="/fr/tags/climat/">climat</a><a class="tag" href="/fr/tags/tech/">tech</a></span>


      
    </div>

    
  </div>

      </main>
    </div><footer class="footer footer__base">
  <ul class="footer__list">
    <li class="footer__item">
      &copy;
      
        Benoit Petit
        2025
      
    </li>
    
  </ul>
</footer>
  
  <script
    type="text/javascript"
    src="/js/medium-zoom.min.9531b4a2217a70c5a1fce89c1f81c9ebbdd586708fcd4130b417320c7230c8d6.js"
    integrity="sha256-lTG0oiF6cMWh/OicH4HJ673VhnCPzUEwtBcyDHIwyNY="
    crossorigin="anonymous"
  ></script></body>
</html>
